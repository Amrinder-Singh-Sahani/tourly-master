<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Product Page</title>
  <link rel="stylesheet" href="Webpage.css">
  <link rel="stylesheet" href="https://www.w3schools.com/w3css/4/w3.css">
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
  <link rel="preconnect" href="https://fonts.gstactic.com" />
  <link
    rel="stylesheet"
    href="https://fonts.googleapis.com/css2?family=Poppins:wght@100;200;300;400;600;700&display=swap"
  />
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz" crossorigin="anonymous"></script>
  <link
    rel="stylesheet"
    href="https://stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css"
  />
  <style>
    body {
      font-family: "Segoe UI", Tahoma, Geneva, Verdana, sans-serif;
      margin: 0;
      padding: 0;
      background-color: #f8f9fa;
    }

    .container {
      max-width: 800px;
      margin: 50px auto;
      padding: 20px;
      display: flex;
      background-color: #fff;
      border-radius: 10px;
      box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
    }

    .product-image {
      flex: 1;
      margin-right: 20px;
    }

    .product-image img {
      max-width: 100%;
      height: auto;
      border-radius: 10px;
    }

    .product-details {
      flex: 2;
    }

    .product-title {
      font-size: 28px;
      margin: 0 0 10px;
      color: #333;
    }

    .product-description {
      margin: 0 0 20px;
      color: #666;
    }

    .product-price {
      font-size: 24px;
      font-weight: bold;
      margin: 0 0 20px;
      color: #333;
    }

    .add-to-cart {
      padding: 10px 20px;
      font-size: 18px;
      background-color: #007bff;
      color: white;
      border: none;
      cursor: pointer;
      border-radius: 5px;
    }

    .add-to-cart:hover {
      background-color: #0056b3;
    }

    .cart-button {
      position: fixed;
      bottom: 20px;
      right: 20px;
      background-color: #007bff;
      color: white;
      padding: 10px 20px;
      border: none;
      border-radius: 5px;
      cursor: pointer;
      z-index: 999;
    }

    .cart-button:hover {
      background-color: #0056b3;
    }

    /* Updated CSS for cart popup */
    .cart-popup {
      position: fixed;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      background-color: #f8f9fa;
      padding: 30px;
      border-radius: 20px;
      box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
      z-index: 999;
      display: none;
      max-width: 400px;
      width: 90%;
    }

    .cart-popup h2 {
      margin-bottom: 20px;
      text-align: center;
      color: #333;
    }

    .cart-items-list {
      list-style: none;
      padding: 0;
      margin-bottom: 20px;
    }
    
    .cart-items-list li {
      margin-bottom: 10px;
      padding: 10px;
      background-color: #fff;
      border-radius: 8px;
      box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
      display: flex;
      align-items: center;
    }

    .cart-items-list li:last-child {
      margin-bottom: 0;
    }

    .cart-item-title {
      flex: 1;
    }

    .cart-item-quantity {                  
      margin-right: 10px;
      padding: 5px 10px;
      border: 1px solid #007bff;
      border-radius: 5px;
    }

    .cart-item-delete {
      background-color: #dc3545;
      color: white;
      border: none;
      border-radius: 5px;
      padding: 5px 10px;
      cursor: pointer;
      transition: background-color 0.3s ease;
    }

    .cart-item-delete:hover {
      background-color: #c82333;
    }

    .cart-total {
      text-align: right;
      margin-bottom: 20px;
    }

    .cart-total span {
      font-weight: bold;
      color: #333;
    }

    .-btn {
      background-color: #007bff;
      color: white;
      border: none;
      border-radius: 5px;
      padding: 12px 24px;
      cursor: pointer;
      transition: background-color 0.3s ease;
    }

    .-btn:hover {
      background-color: #0056b3;
    }

    /* Styles for booking form */
    .booking-form {
      display: none;
      margin-top: 20px;
    }

    .booking-form label {
      display: block;
      margin-bottom: 5px;
      color: #333;
    }

    .booking-form input {
      width: 100%;
      padding: 8px;
      margin-bottom: 10px;
      border-radius: 5px;
      border: 1px solid #ddd;
    }

    .booking-form button {
      background-color: #28a745;
      color: white;
      border: none;
      padding: 10px 20px;
      border-radius: 5px;
      cursor: pointer;
    }

    .booking-form button:hover {
      background-color: #218838;
    }

  </style>
</head>

<body>
  <section class="sub-header">
    <nav>
      <a href="#"><img src="nogo2.avif" alt="" /></a>
      <i class="fa fa-bars" onclick="showMenu()"></i>
    </nav>
    <h1>Our Packages</h1>
  </section>

  <div class="container" id="product1">
    <div class="product-image">
      <img src="breads.jpg" alt="Product Image">
    </div>
    <div class="product-details">
      <h1 class="product-title">PRIVATE BEACH HOUSE IN HAT SAMRAN TRANG</h1>
      <p class="product-description">
          Perfect for relaxing, hanging out in the form of family or friends, as well as staying at Long stay or Work from Anywhere with all the amenities.
      </p>
      <p class="product-price">$750 / per person</p>
      <button class="add-to-cart" onclick="addToCart('PRIVATE BEACH HOUSE IN HAT SAMRAN TRANG', 750)">Book Now</button>
    </div>
  </div>

  <div class="container" id="product1">
    <div class="product-image">
      <img src="bakeimg8.webp" alt="Product Image">
    </div>
    <div class="product-details">
      <h1 class="product-title">SUMMER HOLIDAY TO THE OXOLOTAN RIVER</h1>
      <p class="product-description">
          Come enjoy a pleasant afternoon with your family in the Malec√≥n de Chiltepec, a wide variety of restaurants at your fingertips, a relaxing afternoon enjoying a spectacular view with us.
      </p>
      <p class="product-price">$520 / per person</p>
      <button class="add-to-cart" onclick="addToCart('SUMMER HOLIDAY TO THE OXOLOTAN RIVER', 520)">Book Now</button>
    </div>
  </div>

  <div class="container" id="product1">
    <div class="product-image">
      <img src="chockl.jpg" alt="Product Image">
    </div>
    <div class="product-details">
      <h1 class="product-title">HOUSE WITH PRIVATE POOL ON THE SHORES OF LAKE CAMECUARO</h1>
      <p class="product-description">
          Enjoy a relaxing day at the La Ceiba Spa, on the shores of Lake Camecuaro, which includes a pool and playgrounds for the little ones.
      </p>
      <p class="product-price">$150 / per person</p>
      <button class="add-to-cart" onclick="addToCart('HOUSE WITH PRIVATE POOL ON THE SHORES OF LAKE CAMECUARO', 150)">Book Now</button>
    </div>
  </div>

  <button class="cart-button" onclick="toggleCart()">View Packages</button>

  <!-- <div class="cart-popup" id="cartPopup">
    <h2>Cart</h2>
    <ul class="cart-items-list" id="cartItemsList"></ul>
    <div class="cart-total">Total: $<span id="cartTotal">0</span></div>
    <button class="-btn" onclick="toggleBookingForm()">Proceed to Booking</button>
  </div> -->

  <div class="cart-popup" id="cartPopup">
    <button onclick="toggleCartPopup()" style="background-color: #c82333; color: #fff; border: solid black 2px; border-radius: 25%; position: absolute; top: 10px; right: 10px; padding: 5px 10px; cursor: pointer;">X</button>
    <h2>Your Packages</h2>
    <ul class="cart-items-list" id="cartItemsList"></ul>
    <div class="cart-total">Total: <span id="cartTotal">Rs. 0.00</span></div>
    <button class="-btn" onclick="checkout()">Checkout</button>
  </div>

  <!-- <div class="cart-popup booking-form" id="bookingForm">
    <h2>Enter Booking Details</h2>
    <form id="bookingDetailsForm" onsubmit="submitBookingForm(event)">
      <label for="checkInDate">Check-in Date:</label>
      <input type="date" id="checkInDate" required>
      <label for="checkOutDate">Check-out Date:</label>
      <input type="date" id="checkOutDate" required>
      <button type="submit">Submit</button>
    </form>
  </div> -->

  <div class="cart-popup booking-form" id="bookingForm" style="display: none;">
    <button onclick="toggleBookingForm()" style="background-color: #c82333; color: #fff; border: solid black 2px; border-radius: 25%; position: absolute; top: 10px; right: 10px; padding: 5px 10px; cursor: pointer;">X</button>
    <h2>Enter Booking Details</h2>
    <form action="submit_booking.php" method="post">
      <label for="checkInDate">Check-in Date:</label>
      <input type="date" id="checkInDate" name="check_in_date" required>
      <label for="checkOutDate">Check-out Date:</label>
      <input type="date" id="checkOutDate" name="check_out_date" required>
      <input type="hidden" id="productTitle" name="product_title">
      <input type="hidden" id="price" name="price">
      <input type="hidden" id="totalPrice" name="total_price">
      <button type="submit">Submit</button>
    </form>
  </div>

  <script src="Webpage.js"></script>
  <script>
    let cart = []; // Define cart array
    const cartPopup = document.getElementById("cartPopup");
    const bookingForm = document.getElementById("bookingForm");
  
    function toggleCartPopup() {
      if (cartPopup.style.display === "none" || cartPopup.style.display === "") {
        renderCart();
        cartPopup.style.display = "block";
      } else {
        cartPopup.style.display = "none";
      }
    }
    // function togglebooking() {
    //   if (bookingForm.style.display === "none" || bookingForm.style.display === "") {
    //     renderCart();
    //     bookingForm.style.display = "block";
    //   } else {
    //     bookingForm.style.display = "none";
    //   }
    // }
  
    function addToCart(productTitle, productPrice) {
      let existingItem = cart.find(item => item.title === productTitle);
      if (existingItem) {
        existingItem.quantity++;
      } else {
        cart.push({ title: productTitle, price: productPrice, quantity: 1 });
      }
      renderCart();
    }
  
    function removeFromCart(productTitle) {
      cart = cart.filter(item => item.title !== productTitle);
      renderCart();
    }
  
    function updateQuantity(productTitle, newQuantity) {
      let item = cart.find(item => item.title === productTitle);
      if (item) {
        item.quantity = newQuantity;
      }
      renderCart();
    }
  
    function renderCart() {
      const cartItemsList = document.getElementById("cartItemsList");
      const cartTotal = document.getElementById("cartTotal");
      cartItemsList.innerHTML = "";
      let totalPrice = 0;
      cart.forEach((item) => {
        const listItem = document.createElement("li");
        listItem.classList.add("cart-item");
        const titleSpan = document.createElement("span");
        titleSpan.textContent = item.title;
        titleSpan.classList.add("cart-item-title");
        listItem.appendChild(titleSpan);
  
        const quantityInput = document.createElement("input");
        quantityInput.type = "number";
        quantityInput.min = 1;
        quantityInput.value = item.quantity;
        quantityInput.classList.add("cart-item-quantity");
        quantityInput.addEventListener("change", function () {
          updateQuantity(item.title, parseInt(this.value));
        });
        listItem.appendChild(quantityInput);
  
        const deleteButton = document.createElement("button");
        deleteButton.textContent = "Delete";
        deleteButton.classList.add("cart-item-delete");
        deleteButton.addEventListener("click", function () {
          removeFromCart(item.title);
        });
        listItem.appendChild(deleteButton);
  
        cartItemsList.appendChild(listItem);
        totalPrice += item.price * item.quantity;
      });
  
      cartTotal.textContent = `Rs. ${totalPrice.toFixed(2)}`;
    }
  
    function toggleBookingForm() {
      if (bookingForm.style.display === "none" || bookingForm.style.display === "") {
        bookingForm.style.display = "block";
      } else {
        bookingForm.style.display = "none";
      }
  
      // Set hidden input values
      document.getElementById('productTitle').value = cartItems.map(item => item.title).join(', ');
      document.getElementById('price').value = cartItems.reduce((total, item) => total + item.price, 0);
      document.getElementById('totalPrice').value = totalPrice;
    }
  
    function checkout() {
      toggleBookingForm();
    }
  </script>
</body>
</html>